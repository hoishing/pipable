{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"pipable","text":"<p>pipe operation in python</p> <ul> <li>docs </li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#create-the-pipe-object","title":"Create the Pipe Object","text":"<ul> <li>instantiate with the <code>Pipe</code> class</li> </ul> <pre><code>from pipable import Pipe\n\nlist = Pipe(list)\n\"abc\" | list    # [\"a\", \"b\", \"c\"]\n</code></pre>"},{"location":"#pipe-object-is-partial-with-infix-operator","title":"Pipe Object is Partial with Infix Operator","text":"<ul> <li>at the core Pipe create partial function while overriding it's <code>|</code> operator</li> <li>instantiate Pipe object like the built-in <code>functools.partial</code></li> <li>preceding output will be assigned to the last positional argument of the Pipe object</li> </ul> <pre><code>square = Pipe(pow, exp=2)\n3 | square    # 9\n</code></pre> <p>Since that Pipe appends preceding output to the last positional argument, assigning 1st argument with keyword will raise exception. This behave the same as <code>functools.partial</code></p> <pre><code>base2 = Pipe(pow, 2)  # positional arg ok\n3 | base2    # 8\n\nbase2 = Pipe(pow, base=2)  # keyword arg don't\n3 | base2    # raise!!\n</code></pre>"},{"location":"#using-decorator","title":"Using Decorator","text":"<ul> <li><code>@Pipe</code> decorator transforms function into Pipe object</li> <li>preceding output will be assigned to the last positional argument</li> <li>instantiate Pipe decorated function similar to creating partial</li> </ul> <pre><code># only one argument\n@Pipe\ndef hi(name: str) -&gt; str:\n  return f\"hi {name}\"\n\n\"May\" | hi    # \"hi May\"\n\n\n# multiple arguments\n@Pipe\ndef power(base: int, exp: int) -&gt; int:\n  return a ** b\n\n# instantiate Pipe obj by partially calling the function\n2 | power(3)        # 9, note we need to use positional argument here\n2 | power(exp=3)    # 8, subsequent arguments can use keyword\n\n# assign the 1st argument with keyword will raise exception\n2 | power(base=3)    # raise !!\n</code></pre>"},{"location":"#passing-variable-length-arguments","title":"Passing Variable Length Arguments","text":"<ul> <li>use <code>&gt;&gt;</code> operator to pass-in var length arguments</li> </ul> <pre><code>@Pipe\ndef kebab(*args):\n    return \"-\".join(args)\n\n[\"a\", \"b\"] &gt;&gt; kebab   # \"a-b\"\n</code></pre> <ul> <li>use <code>&lt;&lt;</code> operator to pass var length keyword arguments</li> </ul> <pre><code>@Pipe\ndef concat(**kwargs):\n    return \", \".join([f\"{k}-{v}\" for k, v in kwargs.items()])\n\ndict(b=\"boy\", c=\"cat\") &lt;&lt; concat    # \"b-boy, c-cat\"\n</code></pre>"},{"location":"#motivation","title":"Motivation","text":"<p>Pipe operation is a handy feature in functional programming. It allows us to:</p> <ul> <li>write more succinct and readable code</li> <li>create less variables</li> <li>easily create new function by chaining other functions</li> </ul> <p>However it's still a missing feature in Python as of 2023. This package try to mimic pipe operation by overriding the bitwise-or operator, and turn any function into pipable partial.</p> <p>There are packages, such as pipe take the similar approach. It works great with iterables, and create pipe as iterator, ie. open pipe). However, I simply want to take preceding expression as an input argument of the current function then execute it, ie. close pipe. It leads to the creation of this package.</p>"},{"location":"#faq","title":"FAQ","text":"<p>How can I assign value to the first argument?</p> <p>Assign it within a wrapper function</p> <pre><code>square = Pipe(lambda x: pow(x, 2))\n3 | square  # 9\n</code></pre> <p>Can I create open pipe?</p> <p><code>Pipe</code> only create closed pipe, ie. execute the function after piping with the <code>|</code> operator. You may consider other solutions such as:</p> <ul> <li>pipe, which create open pipe for iterators</li> <li>Coconut, a python variant that embrace functional programming</li> </ul> <p>Can I append the preceding output at the beginning of the argument list?</p> <p>Put the preceding output as the 1st argument of a wrapper function</p> <pre><code># prepend is the default behaviour\ndef kebab(*args):\n  return \"-\".join(*args)\n\n'a' | Pipe(kebab, 'b', 'c')  # 'b c a'\n\n@Pipe\ndef wrapper(first, others):\n  return kebab(first, *others)\n\n'a' | wrapper(others=['b', 'c'])  # 'a b c'\n</code></pre>"},{"location":"#need-help","title":"Need Help?","text":"<p>Open a github issue or ping me on Twitter </p>"},{"location":"license/","title":"License","text":"<p>MIT License</p> <p>Copyright (c) 2023 Kelvin Ng</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"reference/","title":"References","text":""},{"location":"reference/#pipable","title":"<code>pipable</code>","text":"<p>This package try to mimic pipe operation by overriding the bitwise-or operator,  turn it into an infix function that take the output of previous expression as the first argument of the current function.</p>"},{"location":"reference/#pipable.Pipe","title":"<code>Pipe</code>","text":"<p>               Bases: <code>object</code></p> <p>This class create the <code>Pipe</code> object that mimic pipe operation:</p> <ul> <li>instatiate by creating partial of existing function</li> <li>turn the bitwise-or operator <code>|</code> into an infix function that accept the output of previous expression. ie. pipe operator</li> </ul> Source code in <code>pipable/__init__.py</code> <pre><code>class Pipe(object):\n    \"\"\"This class create the `Pipe` object that mimic pipe operation:\n\n    - instatiate by creating partial of existing function\n    - turn the bitwise-or operator `|` into an infix function that accept the output of previous expression.\n    ie. pipe operator\n    \"\"\"\n\n    def __init__(self, func: Callable, /, *args, **kwargs) -&gt; None:\n        \"\"\"create pipable partial for the target func\n\n        Args:\n            func (Callable): func to be pipable\n            args: partial's positional args\n            kwargs: partial's keyword args\n        \"\"\"\n        self.pipe = partial(func, *args, **kwargs)\n\n    def __ror__(self, precedent: Any):\n        \"\"\"override the builit-in `|` operator, turn it into pipe\"\"\"\n        # return partial(self.func, precedent)\n        return self.pipe(precedent)\n\n    def __rrshift__(self, precedent: Iterable):\n        \"\"\"override the builit-in `&gt;&gt;` operator, pass precedent as destructured iterable to the pipe\"\"\"\n        return self.pipe(*precedent)\n\n    def __rlshift__(self, precedent: dict):\n        \"\"\"override the builit-in `&gt;&gt;=` operator, pass as destructured dict to the pipe\"\"\"\n        return self.pipe(**precedent)\n\n    def __call__(self, *args, **kwargs):\n        \"\"\"replace arguments of the pipable partial\"\"\"\n        return Pipe(self.pipe.func, *args, **kwargs)\n</code></pre>"},{"location":"reference/#pipable.Pipe.__call__","title":"<code>__call__(*args, **kwargs)</code>","text":"<p>replace arguments of the pipable partial</p> Source code in <code>pipable/__init__.py</code> <pre><code>def __call__(self, *args, **kwargs):\n    \"\"\"replace arguments of the pipable partial\"\"\"\n    return Pipe(self.pipe.func, *args, **kwargs)\n</code></pre>"},{"location":"reference/#pipable.Pipe.__init__","title":"<code>__init__(func: Callable, /, *args, **kwargs) -&gt; None</code>","text":"<p>create pipable partial for the target func</p> <p>Parameters:</p> Name Type Description Default <code>func</code> <code>Callable</code> <p>func to be pipable</p> required <code>args</code> <p>partial's positional args</p> <code>()</code> <code>kwargs</code> <p>partial's keyword args</p> <code>{}</code> Source code in <code>pipable/__init__.py</code> <pre><code>def __init__(self, func: Callable, /, *args, **kwargs) -&gt; None:\n    \"\"\"create pipable partial for the target func\n\n    Args:\n        func (Callable): func to be pipable\n        args: partial's positional args\n        kwargs: partial's keyword args\n    \"\"\"\n    self.pipe = partial(func, *args, **kwargs)\n</code></pre>"},{"location":"reference/#pipable.Pipe.__rlshift__","title":"<code>__rlshift__(precedent: dict)</code>","text":"<p>override the builit-in <code>&gt;&gt;=</code> operator, pass as destructured dict to the pipe</p> Source code in <code>pipable/__init__.py</code> <pre><code>def __rlshift__(self, precedent: dict):\n    \"\"\"override the builit-in `&gt;&gt;=` operator, pass as destructured dict to the pipe\"\"\"\n    return self.pipe(**precedent)\n</code></pre>"},{"location":"reference/#pipable.Pipe.__ror__","title":"<code>__ror__(precedent: Any)</code>","text":"<p>override the builit-in <code>|</code> operator, turn it into pipe</p> Source code in <code>pipable/__init__.py</code> <pre><code>def __ror__(self, precedent: Any):\n    \"\"\"override the builit-in `|` operator, turn it into pipe\"\"\"\n    # return partial(self.func, precedent)\n    return self.pipe(precedent)\n</code></pre>"},{"location":"reference/#pipable.Pipe.__rrshift__","title":"<code>__rrshift__(precedent: Iterable)</code>","text":"<p>override the builit-in <code>&gt;&gt;</code> operator, pass precedent as destructured iterable to the pipe</p> Source code in <code>pipable/__init__.py</code> <pre><code>def __rrshift__(self, precedent: Iterable):\n    \"\"\"override the builit-in `&gt;&gt;` operator, pass precedent as destructured iterable to the pipe\"\"\"\n    return self.pipe(*precedent)\n</code></pre>"}]}